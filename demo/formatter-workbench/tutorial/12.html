<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="tutorial.css">
  <script src="index.js"></script>
</head>
<body>
<h2 class="continued">Localizers tab</h2>

<article class="activity">
  <header><div>6</div>Bind a cell to a localizer</header>
  Bind cells in the <code>prevclose</code> to the <code>ft-in</code> localizer:
  <section>
    <ol>
      <li>Switch to the <a class="tab">State</a> tab</li>
      <li>
        Add the <a href="https://fin-hypergrid.github.io/core/doc/module-defaults.html#.format" class="code">format</a> property to the <code>prevclose</code> column:
        <pre>prevclose: {
<span style="background-color:yellow">    format: 'ft-in',</span>
    halign: 'right'
}</pre>
      </li>
      <li>Click the <code class="button">grid.setState(…)</code> button</li>
      <li class="observe">The values in this column are now formatted as feet and inches.</li>
    </ol>

    The <code>format</code> property binds the cell to a localizer.
    The value must be the name of a registered <em>localizer</em>, in this case <code>ft-in</code>, a custom localizer packaged with this workbench app which you can examine in the <a class="tab">Localizers</a> tab.
    The value displayed in the cell is formatted by <a target="doc" href="https://fin-hypergrid.github.io/core/doc/localizerInterface.html#format" class="code">localizer.format</a>.

    <p>Remove the <code>ft-in</code> localizer binding</p>
    <ol start="5">
      <li>Click the <span class="button">Reset</span> button which reloads the default contents, undoing our edits</li>
    </ol>

    To take a look at the formatting code:

    <ol start="6">
      <li>Switch to the <a class="tab">Localizers</a> tab</li>
      <li>Select the <code>ft-in</code> localizer from the <em>Load</em> drop-down</li>
      <li class="observe">The <code>format</code> method</li>
    </ol>

    Formatters are often simpler than this, but they could also be much more complicated.

  </section>
</article>


The <code>prevclose</code> column is preset (in the <a class="tab">State</a> tab) to use the preinstalled <code>trend</code> localizer, a sample localizer that comes with this workbench.

None of the cells have valadation
<h3>Cells without validation</h3>
<p>
  The first two columns, <code>symbol</code> and <code>name</code>, have no localizers bound to them so all values in these columns are valid.
</p>

<h3>Cells with validation</h3>
<p>
  This localizer has an <code>invalid</code> method that only accepts values ending with a Unicode up- or down-arrow character (⬆ or ⬇).
  Without one of these characters the value is considered invalid.
  Because these characters are difficult to type, we will be creating a cell editor for this column.
  For now, any attempt to save such a value results in an error.
</p>

<p>
  On the next page we will discuss how validation works.
</p>
